# Hiwari - 日割りコスト管理アプリ

購入したアイテムの1日あたりのコストを計算・管理するWebアプリケーションです。

## 概要

日々の生活で購入するアイテム（商品、サブスクリプション、サービスなど）の「1日あたりのコスト」を可視化します。

### 主な機能

- **アイテム登録**: 商品名、価格、支払間隔（一括/毎月/毎年）、利用期間を登録
- **コスト計算**: 支払間隔と利用期間から1日あたりコストを自動計算
- **集計表示**: 全アイテムの日次・月次・年次コストの合計を表示
- **分類別分析**: カテゴリ別の円グラフと集計表で支出構造を可視化
- **ランキング表示**: 高コストアイテムの上位10件をランキング形式で表示
- **データ管理**: 直感的なデータ一覧画面での編集・削除機能

## 技術スタック

- **フレームワーク**: Next.js 14 (App Router)
- **言語**: TypeScript
- **UIライブラリ**: Material-UI (MUI) + MUI X Data Grid
- **グラフ**: Recharts
- **状態管理**: React Context + useState
- **データ永続化**: localStorage
- **日付操作**: Day.js
- **PWA対応**: Service Worker対応

## セットアップ

### 前提条件

- Node.js 18.0以降
- npm または yarn

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/ymkn/Hiwari.git
cd Hiwari

# appディレクトリに移動
cd app

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてアプリケーションを確認できます。

## 使い方

### 1. アイテムの登録

1. 「新規登録」ボタンをクリック
2. 以下の情報を入力：
   - **名称**: アイテム名（50文字以内）
   - **取得価格**: 購入価格
   - **支払間隔**: 一括/毎月/毎年から選択
   - **支払期間**: 定期支払いの場合の期間（任意）
   - **想定利用期間**: 実際に使用する期間
   - **分類**: カテゴリ名（任意、20文字以内）

### 2. コスト分析

- **ホーム画面**: 総コストの概要と分類別分析
- **データ一覧**: 全アイテムの詳細表示とフィルタリング機能
- **円グラフ**: 分類別の支出割合を視覚的に表示
- **ランキング**: 高コストアイテムの特定

### 3. データ管理

- アイテムの編集・削除
- ソート機能（コスト順、日付順など）
- フィルタ機能（分類、価格帯など）

## コスト計算ロジック

### 一括支払い
```
1日あたりコスト = 取得価格 ÷ 想定利用期間の日数
```

### 定期支払い（毎月・毎年）
```
支払回数 = 支払期間の日数 ÷ 支払間隔の日数（切り上げ）
総支払額 = 取得価格（1回あたり） × 支払回数
1日あたりコスト = 総支払額 ÷ 想定利用期間の日数
```

## ビルドとデプロイ

### 本番ビルド

```bash
cd app
npm run build
npm start
```

### 静的サイト生成（GitHub Pages用）

```bash
cd app
npm run build
npm run export
```

生成された `out/` ディレクトリをWebサーバーにデプロイしてください。

## 開発

### プロジェクト構造

```
Hiwari/
├── app/                    # Next.jsアプリケーション
│   ├── src/
│   │   ├── app/           # App Routerページ
│   │   ├── components/    # Reactコンポーネント
│   │   ├── context/       # Context API
│   │   ├── hooks/         # カスタムフック
│   │   ├── types/         # TypeScript型定義
│   │   └── utils/         # ユーティリティ関数
│   └── public/            # 静的ファイル
├── design/                # 設計ドキュメント
└── README.md
```

### 開発コマンド

```bash
# 開発サーバー
npm run dev

# Lintチェック
npm run lint

# 型チェック
npm run type-check

# ビルド
npm run build
```

## ライセンス

MIT License

## 貢献

プルリクエストやIssueでの貢献を歓迎します。

## デモ

🚀 [Live Demo](https://ymkn.github.io/Hiwari/)

---

**一日一日のコストを意識して、賢い消費生活を！**